    public class ClientIdFactory : IClientIdFactory
    {
        public string CreateClientId(HttpContextBase context)
        {
            if (context.User.Identity.IsAuthenticated) {
                //You can return anything here however I would
                //recommend returning a Guid as this cookie
                //is plaintext
                return Guid.NewGuid().ToString("N");
            }

            //By returning null here we're telling EventStream
            //that this user is not authorized to access the
            //stream
            return null;
        }
    }


    //To register this factory with SignalR
    
    //SignalR.Infrastructure.DependencyResolver.Register(typeof (SignalR.IClientIdFactory), () => new ClientIdFactory());
